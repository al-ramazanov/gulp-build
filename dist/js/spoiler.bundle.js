document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelectorAll("[data-spoiler]");if(e)for(const t of e){const e=t.querySelector("[spoiler-btn]"),n=t.querySelector("[spoiler-body]");e.addEventListener("click",(o=>{function s(){n.style.maxHeight=null}o.currentTarget.classList.toggle("open"),o.currentTarget.classList.contains("open")?n.style.maxHeight=`${n.scrollHeight}px`:s(),o.preventDefault(),document.addEventListener("click",(n=>{n.composedPath().includes(t)||(e.classList.remove("open"),s())}))}))}}));